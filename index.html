<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณู ุงููุฑุงุกุงุช | ููุญุฉ ุงูุฃูุดุทุฉ ุงูุนูููุฉ</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- PapaParse for CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-additions.css">
</head>
<body>
    <a href="add-activity.html" class="add-activity-fab" title="ุฅุถุงูุฉ ูุดุงุท ุฌุฏูุฏ"></a>
    <!-- ุฎูููุฉ ูุชุญุฑูุฉ -->
    <div class="animated-bg">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
        <div class="geometric-pattern"></div>
    </div>

    <!-- ุงูุดุฑูุท ุงูุนููู -->
    <header class="main-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">
                    <svg viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="30" cy="30" r="28" stroke="currentColor" stroke-width="2"/>
                        <path d="M30 8 L30 52 M8 30 L52 30" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
                        <circle cx="30" cy="30" r="18" stroke="currentColor" stroke-width="1.5"/>
                        <circle cx="30" cy="30" r="8" fill="currentColor"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <h1>ุงููุดุงุท ุงูุนููู ููุณู ุงููุฑุงุกุงุช</h1>
                    <p>ุฌุงูุนุฉ ุงูุทุงุฆู</p>
                </div>
            </div>
            
            <div class="header-controls">
                <div class="year-selector">
                    <label for="yearSelect">ุงูุณูุฉ ุงูุฃูุงุฏูููุฉ</label>
                    <select id="yearSelect"></select>
                </div>
            </div>
        </div>
    </header>

    <!-- ุงูุชููู ุงูุฑุฆูุณู - ุงููููู ุงูุฌุฏูุฏ -->
    <nav class="main-nav">
        <div class="nav-container">
            <button class="nav-btn active" data-tab="dashboard">
                <span class="nav-icon">๐</span>
                <span class="nav-text">ุงูุฅุญุตุงุฆูุงุช</span>
            </button>
            <button class="nav-btn" data-tab="publications">
                <span class="nav-icon">๐</span>
                <span class="nav-text">ุงููุดุฑ ุงูุนููู</span>
            </button>
            <button class="nav-btn" data-tab="theses">
                <span class="nav-icon">๐</span>
                <span class="nav-text">ุงูุฅุดุฑุงู ูุงูููุงูุดุฉ</span>
            </button>
            <button class="nav-btn" data-tab="events">
                <span class="nav-icon">๐ฏ</span>
                <span class="nav-text">ุงููุนุงููุงุช ุงูุนูููุฉ</span>
            </button>
            <button class="nav-btn" data-tab="quality">
                <span class="nav-icon">๐</span>
                <span class="nav-text">ูุคุดุฑุงุช ุงูุฌูุฏุฉ</span>
            </button>
        </div>
    </nav>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="main-content">
        
        <!-- ===== ุงูุฅุญุตุงุฆูุงุช ===== -->
        <section id="dashboard" class="tab-content active">
            <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ -->
            <div class="quick-stats">
                <div class="stat-card stat-faculty">
                    <div class="stat-icon">๐จโ๐ซ</div>
                    <div class="stat-info">
                        <span class="stat-number" id="totalFaculty">0</span>
                        <span class="stat-label">ุนุถู ููุฆุฉ ุชุฏุฑูุณ</span>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
                <div class="stat-card stat-publications">
                    <div class="stat-icon">๐</div>
                    <div class="stat-info">
                        <span class="stat-number" id="totalPublications">0</span>
                        <span class="stat-label">ุจุญุซ ููุดูุฑ</span>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
                <div class="stat-card stat-theses">
                    <div class="stat-icon">๐</div>
                    <div class="stat-info">
                        <span class="stat-number" id="totalTheses">0</span>
                        <span class="stat-label">ุฑุณุงูุฉ ุฃู ูุดุฑูุน ุจุญุซู</span>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
                <div class="stat-card stat-events">
                    <div class="stat-icon">๐</div>
                    <div class="stat-info">
                        <span class="stat-number" id="totalEvents">0</span>
                        <span class="stat-label">ูุนุงููุฉ ุนูููุฉ</span>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
            </div>

            <!-- ุงููุณู ุงูุฑุฆูุณู: ุงููุชุตุฏุฑูู + ุขุฎุฑ ุงููุดุงุทุงุช -->
            <div class="dashboard-grid">
                <!-- ุงููุชุตุฏุฑูู -->
                <div class="dashboard-card leaderboard-card">
                    <div class="card-header">
                        <h2>๐ ุงููุชุตุฏุฑูู</h2>
                        <span class="card-badge">ุงูุฃูุซุฑ ูุดุงุทุงู</span>
                    </div>
                    <div class="card-body">
                        <div class="podium-container">
                            <div class="podium-item second">
                                <div class="podium-avatar">๐ฅ</div>
                                <div class="podium-name" id="second-name">-</div>
                                <div class="podium-points" id="second-points">0 ููุทุฉ</div>
                                <div class="podium-bar"></div>
                            </div>
                            <div class="podium-item first">
                                <div class="podium-crown">๐</div>
                                <div class="podium-avatar">๐ฅ</div>
                                <div class="podium-name" id="first-name">-</div>
                                <div class="podium-points" id="first-points">0 ููุทุฉ</div>
                                <div class="podium-bar"></div>
                            </div>
                            <div class="podium-item third">
                                <div class="podium-avatar">๐ฅ</div>
                                <div class="podium-name" id="third-name">-</div>
                                <div class="podium-points" id="third-points">0 ููุทุฉ</div>
                                <div class="podium-bar"></div>
                            </div>
                        </div>
                        <div class="leaderboard-list" id="leaderboardList">
                            <!-- ููููุฃ ุจู JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- ุขุฎุฑ ุงููุดุงุทุงุช -->
                <div class="dashboard-card activities-card">
                    <div class="card-header">
                        <h2>โก ุขุฎุฑ ุงููุดุงุทุงุช</h2>
                        <span class="card-badge">ุขุฎุฑ 10 ุฃูุดุทุฉ</span>
                    </div>
                    <div class="card-body">
                        <div class="activities-timeline" id="activitiesTimeline">
                            <!-- ููููุฃ ุจู JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุงูุฑุณูู ุงูุจูุงููุฉ -->
            <div class="charts-grid">
                <div class="chart-card">
                    <h3>ุชูุฒูุน ุงูุจุญูุซ ุญุณุจ ุงูุดูุฑ</h3>
                    <canvas id="publicationsChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>ุชูุฒูุน ุงูุฑุณุงุฆู</h3>
                    <canvas id="thesesChart"></canvas>
                </div>
            </div>
        </section>

        <!-- ===== ุงููุดุฑ ุงูุนููู ===== -->
        <section id="publications" class="tab-content">
            <div class="section-header">
                <h2>๐ ุงููุดุฑ ุงูุนููู</h2>
                <div class="filters">
                    <input type="text" id="pubSearch" placeholder="๐ ุจุญุซ ูู ุงูุนูุงููู...">
                    <select id="pubCitationsFilter">
                        <option value="">ุฌููุน ุงูุงูุชุจุงุณุงุช</option>
                        <option value="ุฃูู ูู 10">ุฃูู ูู 10</option>
                        <option value="11-20">11-20</option>
                        <option value="21-50">21-50</option>
                        <option value="51-100">51-100</option>
                        <option value="101-200">101-200</option>
                        <option value="201-500">201-500</option>
                        <option value="ุฃูุซุฑ ูู 500">ุฃูุซุฑ ูู 500</option>
                    </select>
                </div>
            </div>
            <div class="publications-grid" id="publicationsGrid">
                <!-- ููููุฃ ุจู JavaScript -->
            </div>
        </section>

        <!-- ===== ุงูุฅุดุฑุงู ูุงูููุงูุดุฉ ===== -->
        <section id="theses" class="tab-content">
            <div class="section-header">
                <h2>๐ ุงูุฅุดุฑุงู ูุงูููุงูุดุฉ</h2>
                <div class="filters">
                    <input type="text" id="thesesSearch" placeholder="๐ ุจุญุซ ูู ุงูุฑุณุงุฆู...">
                    <select id="thesesTypeFilter">
                        <option value="">ุฌููุน ุงูุจุฑุงูุฌ</option>
                        <option value="ุฏูุชูุฑุงู-ูุฑุงุกุงุช">ุฏูุชูุฑุงู ุงููุฑุงุกุงุช</option>
                        <option value="ุฏูุชูุฑุงู-ุฏุฑุงุณุงุช ูุฑุขููุฉ">ุฏูุชูุฑุงู ุงูุฏุฑุงุณุงุช ุงููุฑุขููุฉ</option>
                        <option value="ูุงุฌุณุชูุฑ-ูุฑุงุกุงุช">ูุงุฌุณุชูุฑ ุงููุฑุงุกุงุช</option>
                        <option value="ูุงุฌุณุชูุฑ-ุฏุฑุงุณุงุช ูุฑุขููุฉ">ูุงุฌุณุชูุฑ ุงูุฏุฑุงุณุงุช ุงููุฑุขููุฉ</option>
                    </select>
                    <select id="thesesStatusFilter">
                        <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                        <option value="ููุฌุฒุฉ">ููุฌุฒุฉ</option>
                        <option value="ุฌุงุฑูุฉ">ุฌุงุฑูุฉ</option>
                    </select>
                </div>
            </div>
            <div class="data-table-container">
                <table class="data-table" id="thesesTable">
                    <thead>
                        <tr>
                            <th>ุงูููุน</th>
                            <th>ุงูุทุงูุจ</th>
                            <th>ุนููุงู ุงูุจุญุซ</th>
                            <th>ุงููุดุฑู</th>
                            <th>ุงูุญุงูุฉ</th>
                            <th>ุชุงุฑูุฎ ุงูููุงูุดุฉ</th>
                        </tr>
                    </thead>
                    <tbody id="thesesTableBody">
                    </tbody>
                </table>
            </div>
        </section>

        <!-- ===== ุงููุนุงููุงุช ุงูุนูููุฉ ===== -->
        <section id="events" class="tab-content">
            <div class="section-header">
                <h2>๐ฏ ุงููุนุงููุงุช ุงูุนูููุฉ</h2>
                <div class="filters">
                    <select id="eventsTypeFilter">
                        <option value="">ุฌููุน ุงูุฃุตูุงู</option>
                        <option value="ูุคุชูุฑ">ูุคุชูุฑ</option>
                        <option value="ูุฏูุฉ">ูุฏูุฉ</option>
                        <option value="ูุฑุดุฉ ุนูู">ูุฑุดุฉ ุนูู</option>
                        <option value="ุชุญููู ุนููู">ุชุญููู ุนููู</option>
                        <option value="ุชุฃููู ูุชุจ">ุชุฃููู ูุชุจ</option>
                        <option value="ุงุณุชุดุงุฑุฉ ุนูููุฉ">ุงุณุชุดุงุฑุฉ ุนูููุฉ</option>
                        <option value="ูุดุงุฑูุฉ ุฅุนูุงููุฉ">ูุดุงุฑูุฉ ุฅุนูุงููุฉ</option>
                    </select>
                    <select id="eventsParticipationFilter">
                        <option value="">ุฌููุน ุฃููุงุน ุงููุดุงุฑูุฉ</option>
                        <option value="ุญุถูุฑ">ุญุถูุฑ</option>
                        <option value="ูุดุงุฑูุฉ">ูุดุงุฑูุฉ</option>
                        <option value="ูุดุงุฑูุฉ ุจูุฑูุฉ">ูุดุงุฑูุฉ ุจูุฑูุฉ</option>
                        <option value="ูุดุฑ">ูุดุฑ</option>
                        <option value="ุชูุธูู">ุชูุธูู</option>
                    </select>
                </div>
            </div>
            <div class="events-grid" id="eventsGrid">
                <!-- ููููุฃ ุจู JavaScript -->
            </div>
        </section>

        <!-- ===== ูุคุดุฑุงุช ุงูุฌูุฏุฉ ===== -->
        <section id="quality" class="tab-content">
            <div class="section-header">
                <h2>๐ ูุคุดุฑุงุช ุงูุฌูุฏุฉ</h2>
            </div>
            
            <div class="kpi-grid">
                <!-- ูุณุจุฉ ุงููุดุฑ -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-icon">๐</span>
                        <span class="kpi-title">ูุณุจุฉ ุงููุดุฑ ุงูุนููู</span>
                    </div>
                    <div class="kpi-value">
                        <span class="kpi-number" id="kpiPublishingRate">0</span>
                        <span class="kpi-unit">%</span>
                    </div>
                    <div class="kpi-bar-container">
                        <div class="kpi-bar" id="kpiPublishingRateBar"></div>
                    </div>
                    <div class="kpi-description">ูุณุจุฉ ุงูุฃุนุถุงุก ุงูุฐูู ูุฏููู ุจุญูุซ ููุดูุฑุฉ</div>
                </div>

                <!-- ูุนุฏู ุงูุจุญูุซ -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-icon">๐</span>
                        <span class="kpi-title">ูุนุฏู ุงูุจุญูุซ ููู ุนุถู</span>
                    </div>
                    <div class="kpi-value">
                        <span class="kpi-number" id="kpiPubPerMember">0</span>
                        <span class="kpi-unit">ุจุญุซ</span>
                    </div>
                    <div class="kpi-gauge">
                        <div class="kpi-gauge-fill" id="kpiPubPerMemberGauge"></div>
                    </div>
                    <div class="kpi-description">ูุชูุณุท ุนุฏุฏ ุงูุจุญูุซ ููู ุนุถู</div>
                </div>

                <!-- ุงูุงูุชุจุงุณุงุช -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-icon">๐</span>
                        <span class="kpi-title">ูุนุฏู ุงูุงูุชุจุงุณุงุช</span>
                    </div>
                    <div class="kpi-value">
                        <span class="kpi-number" id="kpiCitations">0</span>
                        <span class="kpi-unit">ุงูุชุจุงุณ</span>
                    </div>
                    <div class="kpi-mini-chart" id="kpiCitationsMini">
                        <!-- ุฑุณู ูุตุบุฑ -->
                    </div>
                    <div class="kpi-description">ูุชูุณุท ุงูุงูุชุจุงุณุงุช ููู ุนุถู</div>
                </div>

                <!-- ูุณุจุฉ ูุดุฑ ุงูุทูุงุจ -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-icon">๐</span>
                        <span class="kpi-title">ูุณุจุฉ ูุดุฑ ุงูุทูุงุจ</span>
                    </div>
                    <div class="kpi-value">
                        <span class="kpi-number" id="kpiStudentPub">0</span>
                        <span class="kpi-unit">%</span>
                    </div>
                    <div class="kpi-bar-container">
                        <div class="kpi-bar student" id="kpiStudentPubBar"></div>
                    </div>
                    <div class="kpi-description">ูุณุจุฉ ุงูุจุญูุซ ุงููุดุชุฑูุฉ ูุน ุงูุทูุงุจ</div>
                </div>

                <!-- ูุนุฏู ุงูุฅุดุฑุงู -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-icon">๐จโ๐ซ</span>
                        <span class="kpi-title">ูุนุฏู ุงูุฅุดุฑุงู</span>
                    </div>
                    <div class="kpi-value">
                        <span class="kpi-number" id="kpiSupervision">0</span>
                        <span class="kpi-unit">ุฑุณุงูุฉ</span>
                    </div>
                    <div class="kpi-dual-bars">
                        <div class="kpi-dual-item">
                            <span class="dual-label">ุฏูุชูุฑุงู</span>
                            <div class="dual-bar-container">
                                <div class="dual-bar phd" id="kpiPhdBar"></div>
                            </div>
                            <span class="dual-value" id="kpiPhdCount">0</span>
                        </div>
                        <div class="kpi-dual-item">
                            <span class="dual-label">ูุงุฌุณุชูุฑ</span>
                            <div class="dual-bar-container">
                                <div class="dual-bar masters" id="kpiMastersBar"></div>
                            </div>
                            <span class="dual-value" id="kpiMastersCount">0</span>
                        </div>
                    </div>
                    <div class="kpi-description">ูุชูุณุท ุนุฏุฏ ุงูุฑุณุงุฆู ููู ุนุถู</div>
                </div>

                <!-- ุงูุงุจุชูุงุฑ ูุงูุชููุฒ -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-icon">๐</span>
                        <span class="kpi-title">ุงูุงุจุชูุงุฑ ูุงูุชููุฒ</span>
                    </div>
                    <div class="kpi-value">
                        <span class="kpi-number" id="kpiInnovation">0</span>
                        <span class="kpi-unit">ุฅูุฌุงุฒ</span>
                    </div>
                    <div class="kpi-icons-row" id="kpiInnovationIcons">
                        <!-- ุฃููููุงุช ุงูุฌูุงุฆุฒ ูุงูุจุฑุงุกุงุช -->
                    </div>
                    <div class="kpi-description">ุฅุฌูุงูู ุงูุฌูุงุฆุฒ ูุจุฑุงุกุงุช ุงูุงุฎุชุฑุงุน</div>
                </div>
            </div>

            <!-- ุฑุณู ุจูุงูู ููููุงุฑูุฉ -->
            <div class="quality-chart-section">
                <div class="chart-card large">
                    <h3>ุชุญููู ุงูุฃุฏุงุก</h3>
                    <canvas id="qualityRadarChart"></canvas>
                </div>
            </div>
        </section>

    </main>

    <!-- ุงูููุชุฑ -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-logo">
                <span>ูุณู ุงููุฑุงุกุงุช</span>
                <span class="separator">|</span>
                <span>ุฌุงูุนุฉ ุงูุทุงุฆู</span>
            </div>
            <div class="footer-year">
                <span id="currentYear">1446</span>ูู
            </div>
        </div>
    </footer>

    <!-- ูุคุดุฑ ุงูุชุญููู -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <span>ุฌุงุฑู ุงูุชุญููู...</span>
        </div>
    </div>

    <script src="app.js"></script>

    <!-- Modal ุชูุงุตูู ุงูุฑุณุงูุฉ -->
    <div id="thesisModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <!-- ุฒุฑ ุงูุทุจุงุนุฉ - ุฃููููุฉ ูู ุงูุฑูู ุงูุฃูุณุฑ -->
            <button class="print-icon-btn" onclick="printThesis()" title="ุทุจุงุนุฉ">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 6 2 18 2 18 9"></polyline>
                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                    <rect x="6" y="14" width="12" height="8"></rect>
                </svg>
            </button>
            <div class="thesis-details">
                <div class="thesis-badge" id="modalBadge"></div>
                <h2 id="modalTitle"></h2>
                <div class="thesis-info">
                    <div class="info-item">
                        <span class="info-label">ุงูุทุงูุจ</span>
                        <span class="info-value" id="modalStudent"></span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ุงูุจุฑูุงูุฌ</span>
                        <span class="info-value" id="modalProgram"></span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ุงูููุงู</span>
                        <span class="info-value" id="modalLocation"></span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ุงูุญุงูุฉ</span>
                        <span class="info-value" id="modalStatus"></span>
                    </div>
                    <div class="info-item" style="grid-column: span 2;">
                        <span class="info-label">ุชุงุฑูุฎ ุงูููุงูุดุฉ</span>
                        <span class="info-value" id="modalDate"></span>
                    </div>
                </div>
                <div class="committee-section">
                    <h3>ูุฌูุฉ ุงูุฅุดุฑุงู ูุงูููุงูุดุฉ</h3>
                    <!-- ุงููุดุฑููู -->
                    <div class="committee-row supervisors">
                        <div class="committee-member supervisor-main">
                            <div class="member-icon">๐จโ๐ซ</div>
                            <div class="member-role">ุงููุดุฑู ุงูุฑุฆูุณู</div>
                            <div class="member-name" id="modalSupervisor"></div>
                        </div>
                        <div class="committee-member supervisor-co" id="coSupervisorSection">
                            <div class="member-icon">๐จโ๐ซ</div>
                            <div class="member-role">ุงููุดุฑู ุงููุดุงุฑู</div>
                            <div class="member-name" id="modalCoSupervisor"></div>
                        </div>
                    </div>
                    <!-- ุงูููุงูุดูู -->
                    <div class="committee-row examiners">
                        <div class="committee-member examiner" id="examiner1Section">
                            <div class="member-icon">๐</div>
                            <div class="member-role">ุงูููุงูุด ุงูุฃูู</div>
                            <div class="member-name" id="modalExaminer1"></div>
                        </div>
                        <div class="committee-member examiner" id="examiner2Section">
                            <div class="member-icon">๐</div>
                            <div class="member-role">ุงูููุงูุด ุงูุซุงูู</div>
                            <div class="member-name" id="modalExaminer2"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>
